\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}	% Para caracteres en español
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd}
\usepackage{multirow,booktabs}
\usepackage[table]{xcolor}
\usepackage{fullpage}
\usepackage{lastpage}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{mathrsfs}
\usepackage{wrapfig}
\usepackage{setspace}
\usepackage{calc}
\usepackage{multicol}
\usepackage{cancel}
\usepackage[retainorgcmds]{IEEEtrantools}
\usepackage[margin=1cm]{geometry}
\usepackage{amsmath}
\newlength{\tabcont}
\setlength{\parindent}{0.0in}
\setlength{\parskip}{0.05in}
\usepackage{empheq}
\usepackage{framed}
\usepackage[most]{tcolorbox}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{listings}
% -- Basic formatting
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{times}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{placeins}
\setlength{\parindent}{0pt}
\usepackage{indentfirst}% -- Defining colors:
\usepackage[dvipsnames]{xcolor}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}% Definig a custom style:
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codepurple},
    keywordstyle=\color{NavyBlue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize\bfseries,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=t,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}% -- Setting up the custom style:
\lstset{style=mystyle}
\lstset{
  style=mystyle,
  framexleftmargin=3.5mm,
  rulesepcolor=\color{black},
  linewidth=0.6\linewidth,
  xleftmargin=12pt,
  aboveskip=12pt,
  belowskip=12pt
}
\colorlet{shadecolor}{orange!15}
\parindent 0in
\parskip 1pt
\geometry{margin=1in, headsep=0.25in}
\theoremstyle{definition}
\newtheorem{defn}{Definition}
\newtheorem{reg}{Rule}
\newtheorem{exer}{Exercise}
\newtheorem{note}{Note}
\graphicspath{ {./images/} }
\begin{document}
\setcounter{section}{0}
\title{MIE223 Lecture Notes}

\thispagestyle{empty}

\begin{center}
{\LARGE \bf Sentiment Analysis}\\
{\large MIE223}\\
Winter 2025
\end{center}
\section{Sentiment Analysis}
\subsection{Positive or negative movie review?}
\begin{itemize}
  \item unbelievably disappointing
  \item Full of zany characters and richly applied satire, and some
  great plot twists
  \item this is the greatest screwball comedy ever filmed
  \item It was pathetic. The worst part about it was the boxing
  scenes.
\end{itemize}

\subsection{Google Product Search}
\includegraphics[width=\textwidth]{5.png}
\begin{verbatim}
  How do we find the sentiment of a review? you can automatically 
  extract common tokens and phrases from the reviews and use them 
  to determine the sentiment of the review. We use phrase chunking 
  to get key phrases. use entailment to determine if a sentence 
  is relevant to a specific key phrase.
  determine whether phrase is positive or negative
  called polarity analysis.
\end{verbatim}

\subsection{Bing Shopping}
\includegraphics[width=\textwidth]{6.png}
\begin{verbatim}
  sentiment analysis is heavily used for product reviews
\end{verbatim}

\subsection{Twitter sentiment versus Gallup Poll of
Consumer Confidence}
\includegraphics[width=\textwidth]{7.png}
\begin{itemize}
  \item gallup poll can be used to survey public opinion
  \item twitter sentiment can be used to predict public opinion
\end{itemize}

\subsection{Twitter sentiment:}
\includegraphics[width=\textwidth/2]{8.png}
\begin{itemize}
  \item CALM predicts
  DJIA 3 days
  later
  \item At least one
  current hedge
  fund uses this
  algorithm
\end{itemize}
\includegraphics[width=\textwidth/2]{9.png}
\begin{itemize}
  \item an efficient market makes use of information
  \item twitter sentiment can be used to predict stock prices
  \item the results are terrible
  \item ideas are good, nuanced emotions can influence the stock market
  \item different events give rise to different emotions which can be measured
\end{itemize}

\subsection{Beware: Spurious Correlations}
\includegraphics[width=\textwidth]{10.png}
\begin{itemize}
  \item data matching correlations are similar but not true
\end{itemize}

\subsection{Target Sentiment on Twitter}
\includegraphics[width=\textwidth]{11.png}

\subsection{Sentiment analysis has many other names}
\begin{itemize}
  \item Opinion extraction
  \item Opinion mining
  \item Sentiment mining
  \item Subjectivity analysis
\end{itemize}

\subsection{Why sentiment analysis?}
\begin{itemize}
  \item Movie: is this review positive or negative?
  \item Products: what do people think about the new iPhone?
  \item Public sentiment: how is consumer confidence? Is despair
  increasing?
  \item Politics: what do people think about this candidate or issue?
  \item Prediction: predict election outcomes or market trends from
  sentiment
\end{itemize}

\subsection{Scherer Typology of Affective States}
\begin{itemize}
  \item Emotion: brief organically synchronized ... evaluation of a major event
  \item angry, sad, joyful, fearful, ashamed, proud, elated
  \item Mood: diffuse non-caused low-intensity long-duration change in subjective feeling
  \item cheerful, gloomy, irritable, listless, depressed, buoyant
  \item Interpersonal stances: affective stance toward another person in a specific interaction
  \item friendly, flirtatious, distant, cold, warm, supportive, contemptuous
  \item Attitudes: enduring, affectively colored beliefs, dispositions towards objects or persons
  \item liking, loving, hating, valuing, desiring
  \item Personality traits: stable personality dispositions and typical behavior tendencies
  \item nervous, anxious, reckless, morose, hostile, jealous
\end{itemize}
\begin{note}
  Majority of review sentiment focuses on attitudes. Public mood predits stock market
\end{note}

\subsection{Sentiment Analysis}
\begin{itemize}
  \item Sentiment analysis is the detection of attitudes
  \item “enduring, affectively colored beliefs, dispositions towards objects or persons”
\end{itemize}
\begin{enumerate}
  \item Holder (source) of attitude
  \item Target (aspect) of attitude
  \item Type of attitude
  \begin{itemize}
    \item From a set of types like, love, hate, value, desire, etc.
    \item Or (more commonly) simple weighted polarity: 
    \item positive, negative, neutral, together with strength
  \end{itemize}
  \item Text containing the attitude like sentence or entire document
  \item Coreference resolution: who is talking about what?
\end{enumerate}
\begin{itemize}
  \item Simplest task:
  \item Is the attitude of this text positive or negative?
  \item More complex:
  \item Rank the attitude of this text from 1 to 5
  \item Advanced:
  \item Detect the target, source, or complex attitude types
\end{itemize}

\section{Text Processing and
Sentiment Classifier
Limitations}
\subsection{Sentiment Classification in Movie Reviews}
\begin{itemize}
  \item Polarity detection:
  \item Is an IMDB movie review positive or negative?
\end{itemize}

\subsection{IMDB data in the Pang and Lee database}
\includegraphics[width=\textwidth]{12.png}

\subsection{Sentiment Analysis and Prediction}
\begin{itemize}
  \item Sentiment-aware tokenization
  \item Important if text analysis should be sensitive to sentiment
\end{itemize}
\begin{itemize}
  \item Prediction using different classifiers / regressors
  \item Could learn with Naïve Bayes, Logistic Regression, SVM
  \begin{itemize}
    \item Vader is an off-the-shelf tool for predicting sentiment
    \item Actually a regressor, predicts strength of polarity [-1,+1]
    \item +1 = Most positive, -1 = Most negative, 0 = Neutral
  \end{itemize}
\end{itemize}

\subsection{Sentiment Tokenization Issues}
Let’s consider tokenization
text analysis should be
sensitive to sentiment

\begin{itemize}
  \item Capitalization
  \begin{itemize}
    \item Preserve capital letters
    \item Why?
  \end{itemize}
  \item Emoticons
  \item Useful code Regex
\end{itemize}
\includegraphics[width=\textwidth]{13.png}

\subsection{Classification Results}
\begin{itemize}
  \item Trained classifier achieves 92.1\% accuracy on movies
  \item Off-the-shelf Vader would do well: around 80-85\% accuracy
\end{itemize}
\begin{itemize}
  \item Need to train a classifier per domain for best results
  \item Scary movie = good!
  \item Scary hotel = bad!
  \item Hotel with “thin walls”?
\end{itemize}

\subsection{Classifiers don’t capture everything}
Subtlety:

\begin{itemize}
  \item Perfume review in Perfumes: the Guide:
  \begin{itemize}
    \item “If you are reading this because it is your darling fragrance,
    please wear it at home exclusively, and tape the windows
    shut.”
  \end{itemize}
  \item Dorothy Parker on Katherine Hepburn
  \begin{itemize}
    \item "She runs the gamut of emotions from A to B”
  \end{itemize}
\end{itemize}

\begin{itemize}
  \item Word interactions:
  \begin{itemize}
    \item Raising taxes = bad
    \item Raising salaries = good
    \item Lowering taxes = good
    \item Lowering salaries = bad
  \end{itemize}
  \item A solution? Adjective*Noun where...
  \begin{itemize}
    \item Raising=+1, Lowering=-1, Taxes=-1, Salaries=+1
    \item Also supports Adverb*Adjective: very(+2) happy (+1), very (+2) sad (-1)
  \end{itemize}
\end{itemize}

\subsection{Thwarted Expectations
and Ordering Effects}
\begin{itemize}
  \item “This film should be brilliant. It sounds like a great plot, the actors are first
  grade, and the supporting cast is good as well, and Stallone is attempting to
  deliver a good performance. However, it can’t hold up.”
  \item Well as usual Keanu Reeves is nothing special, but surprisingly, the very
  talented Laurence Fishbourne is not so good either, I was surprised
\end{itemize}

\subsection{Sarcasm}
\begin{itemize}
  \item Josef Stalin might enjoy this movie.
  \item As exciting as watching the grass grow.
  \item This movie should win flop of the year.
  \item I wondered whether I had checked into the Bates Motel.
\end{itemize}

\section{Sentiment Lexicons}
\subsection{The General Inquirer}
Categories:

\begin{itemize}
  \item Positiv (1915 words) and Negativ (2291 words)
  \item Strong vs Weak, Active vs Passive, Overstated versus Understated
  \item Pleasure, Pain, Virtue, Vice, Motivation, Cognitive Orientation, etc
\end{itemize}

\subsection{LIWC (Linguistic Inquiry and Word Count)}
\begin{itemize}
  \item 2300 words, >70 classes
  \item Affective Processes
  \begin{itemize}
    \item negative emotion (bad, weird, hate, problem, tough)
    \item positive emotion (love, nice, sweet)
  \end{itemize}
  \item Cognitive Processes
  \item Tentative (maybe, perhaps, guess), Inhibition (block, constraint)
  \item Pronouns, Negation (no, never), Quantifiers (few, many)
  \item \$30 or \$90 fee
\end{itemize}

\subsection{MPQA Subjectivity Cues Lexicon}
\begin{itemize}
  \item 6885 words from 8221 lemmas
  \begin{itemize}
    \item 2718 positive
    \item 4912 negative
  \end{itemize}
  \item Each word annotated for intensity (strong, weak)
  \item GNU GPL
\end{itemize}

\subsection{Bing Liu Opinion Lexicon}
6786 words
\begin{itemize}
  \item 2006 positive
  \item 4783 negative
\end{itemize}

\subsection{SentiWordNet (do not use!)}
\begin{itemize}
  \item All WordNet synsets automatically annotated for degrees of positivity,
  negativity, and neutrality/objectiveness
  \item [estimable(J,3)] “may be computed or estimated”
  \item [estimable(J,1)] “deserving of respect or high regard
\end{itemize}

\subsection{Disagreements between polarity lexicons}
\includegraphics[width=\textwidth]{14.png}

\section{Automatic Polarity
Analysis (with PMI)}

\subsection{Analyzing the polarity of each word in IMDB}
\begin{itemize}
  \item How likely is each word to appear in each sentiment class?
  \item Count(“bad”) in 1-star, 2-star, 3-star, etc.
  \item But can’t use raw counts:
  \item Instead, likelihood:
  \item Make them comparable between words
  \item Scaled likelihood:
\end{itemize}
\begin{equation}
  likelihood = \frac{P(w|pos)}{P(w|neg)}
\end{equation}
\begin{equation}
  \text{Scaled likelihood} = \frac{P(w|pos)}{P(w|neg)}
\end{equation}
\includegraphics[width=\textwidth/4]{15.png}

\subsection{Analyzing the polarity of each word in IMDB}
\includegraphics[width=\textwidth]{16.png}

\subsection{Other sentiment feature: Logical negation}
\begin{itemize}
  \item Is logical negation (no, not) associated with negative
  sentiment?
  \item Potts experiment:
  \begin{itemize}
    \item Count negation (not, n’t, no, never) in online reviews
    \item Regress against the review rating
  \end{itemize}
\end{itemize}

\subsection{Potts 2011 Results: More negation in negative sentiment}
\includegraphics[width=\textwidth]{17.png}

\end{document}